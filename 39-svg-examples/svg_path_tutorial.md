# SVG <path> 路径指令简明教程

SVG 的 `<path>` 元素是所有图形绘制工具中最强大的一个。它可以通过一系列指令来绘制任何你能想象到的形状，从简单的直线到复杂的曲线。这些指令都定义在它的 `d` 属性中。

---

## 核心概念：虚拟画笔与坐标系

你可以把 `<path>` 的绘制过程想象成有一支虚拟的画笔在画布上移动。`d` 属性中的指令就是告诉这支画笔“移动到哪里”、“画一条线到哪里”或者“画一条曲线到哪里”。

### 绝对坐标 (Absolute) vs. 相对坐标 (Relative)

几乎所有的路径指令都有两种形式：
- **绝对坐标 (Absolute)**: 使用**大写字母** (如 `L`, `M`, `C`)。坐标值是相对于 SVG 画布的原点 (0, 0) 来计算的。
- **相对坐标 (Relative)**: 使用**小写字母** (如 `l`, `m`, `c`)。坐标值是相对于**画笔当前的位置**来计算的。

---

## 路径指令详解

以下是 `<path>` 中最常用的指令。

### 1. MoveTo (移动) - `M`, `m`

这个指令用于移动画笔到指定的坐标点，但**不会画��**。它通常是路径的起始指令。

| 指令 | 名称 | 参数 |
| :--- | :--- | :--- |
| `M x y` | 绝对移动 | 移动到画布的 `(x, y)` 点 |
| `m dx dy` | 相对移动 | 从当前点移动 `dx` 水平距离，`dy` 垂直距离 |

### 2. LineTo (画线) - `L`, `l`, `H`, `h`, `V`, `v`

用于从当前点画一条直线到新的点。

| 指令 | 名称 | 参数 |
| :--- | :--- | :--- |
| `L x y` | 绝对画线 | 从当前点画直线到 `(x, y)` |
| `l dx dy` | 相对画线 | 从当前点画直线到 `(当前x+dx, 当前y+dy)` |
| `H x` | 绝对水平画线 | 从当前点画水平线到 x 坐标为 `x` 的位置 |
| `h dx` | 相对水平画线 | 从当前点画一条长度为 `dx` 的水平线 |
| `V y` | 绝对垂直画线 | 从当前点画垂直线到 y 坐标为 `y` 的位置 |
| `v dy` | 相对垂直画线 | 从当前点画一条长度为 `dy` 的垂直线 |

### 3. CurveTo (曲线)

#### 三次贝塞尔曲线 - `C`, `c`, `S`, `s`

这是最常用的曲线指令，通过两个控制点来精确定义曲线的形状。

| 指令 | 名称 | 参数 |
| :--- | :--- | :--- |
| `C x1 y1, x2 y2, x y` | 绝对三次贝塞尔曲线 | 从当前点画曲线到 `(x, y)`。`(x1, y1)` 是起点的控制点，`(x2, y2)` 是终点的控制点。 |
| `c dx1 dy1, dx2 dy2, dx dy` | 相对三次贝塞尔曲线 | 参数是相对��当前点的偏移量。 |
| `S x2 y2, x y` | 绝对平滑三次贝塞尔曲线 | 自动延续上一条贝塞尔曲线。它只需要终点的控制点 `(x2, y2)` 和终点 `(x, y)`。起点的控制点是上一条曲线终点控制点的对称点。 |
| `s dx2 dy2, dx dy` | 相对平滑三次贝塞尔曲线 | 参数是相对于当前点的偏移量。 |

#### 二次贝塞尔曲线 - `Q`, `q`, `T`, `t`

比三次贝塞尔曲线简单，只有一个控制点。

| 指令 | 名称 | 参数 |
| :--- | :--- | :--- |
| `Q x1 y1, x y` | 绝对二次贝塞尔曲线 | 从当前点画曲线到 `(x, y)`，使用 `(x1, y1)` 作为控制点。 |
| `q dx1 dy1, dx dy` | 相对二次贝塞尔曲线 | 参数是相对于当前点的偏移量。 |
| `T x y` | 绝对平滑二次贝塞尔曲线 | 延续上一条二次贝塞尔曲线。控制点是自动计算的。 |
| `t dx dy` | 相对平滑二次贝塞尔曲线 | 参数是相对于当前点的偏移量。 |

### 4. Arc (圆弧) - `A`, `a`

这是最复杂的指令，用于绘制椭圆的弧线。

`A rx ry x-axis-rotation large-arc-flag sweep-flag x y`

- `rx, ry`: 椭圆的 x 轴和 y 轴半径。
- `x-axis-rotation`: 椭圆的旋转角度。
- `large-arc-flag`: `0` 表示小弧，`1` 表示大弧。在起点和终点之间，通常有两条弧线可以画，这个标志决定了画哪一条。
- `sweep-flag`: `0` 表示逆时针方向的弧，`1` 表示顺时针方向的弧。
- `x, y`: 弧线的终点坐标。

### 5. ClosePath (闭合路径) - `Z`, `z`

这个指令没有参数。它会从当前点画一条直线回到路径的起始点，从而形成一个封闭的形状。`Z` 和 `z` 的功能完全相同。

---

## 路径属性详解

除了 `d` 属性外，`<path>` 元素还有许多用于控制其外观的属性。这些属性通常用于定义颜色、描边样式等。

| 属性 | 说明 | 示例值 |
| :--- | :--- | :--- |
| `fill` | 定义路径内部的填充颜色。 | `blue`, `#ff0000`, `rgb(0,255,0)`, `none` |
| `stroke` | 定义路径描边（轮廓线）的颜色。 | `red`, `#000`, `none` |
| `stroke-width` | 定义描边的宽度。 | `2`, `10px` |
| `stroke-linecap` | 定义开放路径的端点样式。 | `butt` (默认，平直), `round` (圆形), `square` (方形) |
| `stroke-linejoin` | 定义路径转角处的连接样式。 | `miter` (默认，尖角), `round` (圆角), `bevel` (斜角) |
| `stroke-dasharray` | 定义虚线模式。 | `5, 5` (5像素实线，5像素空白), `10, 5, 2, 5` |
| `opacity` | 定义整个元素的透明度。 | `0.5` (半透明), `1` (不透明) |

### 重点属性说明

#### `stroke-linecap`
这个属性对于开放的线段（即没有使用 `Z` 闭合的路径）非常重要。
- `butt`: 线段的末端是平直的，恰好在线段的终点处结束。
- `round`: 线段的末端是半圆形的，会略微超出线��的终点。
- `square`: 线段的末端是方形的，同样会略微超出线段的终点。

#### `stroke-dasharray`
这个属性通过一个数字列表来创建虚线。列表中的数字交替表示“画多长”和“留多长空白”。
- `stroke-dasharray="10 5"`: 画 10 个单位，然后留 5 个单位空白，不断重复。
- `stroke-dasharray="10 5 2 5"`: 画 10，留 5，画 2，留 5，然后从头循环。

**高级技巧：用 `stroke-dasharray` 画点**
正如在本系列对话中我们分析过的，可以将 `stroke-dasharray` 和 `stroke-linecap="round"` 结合起来画出圆点。
```xml
<path d="M 10 10 H 50" stroke="blue" stroke-width="8" 
      stroke-linecap="round" stroke-dasharray="0 15" />
```
- `stroke-dasharray="0 15"`: 意味着画 0 个单位的线，然后留 15 个单位的空白。
- `stroke-linecap="round"`: 即使线长为 0，引擎依然会为这个“零长度线”的端点画上圆形的“帽子”。
- `stroke-width="8"`: 这个“帽子”的直径就是描边的宽度。
最终效果就是在路径的起点（以及路径上每个虚线段的起点）上绘制一个直径为 8 的圆点。

---

## 综合示例

让我们看一个简单的例子，它结合了移动、直线、曲线和闭合指令。

```xml
<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
  <path d="M 20 20 L 180 20 Q 190 100 100 180 L 20 180 Z"
        fill="lightblue" stroke="blue" stroke-width="2" />
  <path d="M 10 10 H 50 " stroke="purple" stroke-width="8" 
      stroke-linecap="round" stroke-dasharray="0 15" />
</svg>
```

`d` 属性的指令分解：
1.  `M 20 20`: **移动**画笔到 `(20, 20)`。
2.  `L 180 20`: 从 `(20, 20)` **画直线**到 `(180, 20)`。
3.  `Q 190 100 100 180`: 从 `(180, 20)` **画一条二次贝塞尔曲线**到 `(100, 180)`，并使用 `(190, 100)` 作为控制点。
4.  `L 20 180`: 从 `(100, 180)` **画直线**到 `(20, 180)`。
5.  `Z`: **闭合路径**，从 `(20, 180)` 画一条直线回到起点 `(20, 20)`。

---

## 小贴士

- 为了提高可读性，你可以在 `d` 属性的指令之间添加空格甚至换行符。
- 对于复杂的图形，手动编写路径非常困难。可以使用矢量图形编辑器（如 Inkscape, Adobe Illustrator, Figma）来绘制图形，然后导出 SVG 代码。
- 相对坐标 (`m`, `l`, `c` 等) 对于创建可重复使用的、模块化的图形组件非常有用。